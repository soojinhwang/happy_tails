<div class="container conversation"
     data-controller="conversation-subscription"
     data-conversation-subscription-conversation-id-value="<%= @conversation.id %>">

  <div class="conversations-container">
    <div class="row justify-content-md-center">
      <div class="col-lg-8">
        <div class="conversation-title">
          <h1><em>Conversation <%= @conversation.name %></em></h1>
        </div>
        <div class="messages" data-conversation-subscription-target="messages">
          <% @conversation.messages.each do |message| %>
            <%= render "messages/message", message: message %>
          <% end %>
        </div>
        <div class="message-form">
          <%= simple_form_for [@conversation, @message],
              remote: true,
              html: {data: {action: "ajax:success->conversation-subscription#resetForm"} } do |f| %>
            <%= f.input :content, label: false, placeholder: "Write your message", class: "message-input" %>
            <%= f.submit "Send", class: "btn-yellow" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
